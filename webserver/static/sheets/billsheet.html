

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="thehowlinggreywolf">
    <link href="../dynamic/CSS/primarystyle.css" rel="stylesheet">
    <link href="../dynamic/CSS/tabulator/tabulator.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans" rel="stylesheet">

    <title>CMHoC Master Sheet</title>

    <script src="../dynamic/JavaScript/jquery-3.3.1.min.js"></script>
    <script>
        $(function(){
            $("#includedContent").load("../navbar.html");
        });
    </script>

</head>
<body>
<h1 class="primary-header">Bill Sheet</h1>

<div id="includedContent"></div>

<p class="secondary-body">Double click on a Bill to view it.</p>

    <div id="bill-table"></div>
        <script type="text/javascript" src="../dynamic/JavaScript/tabulator/tabulator_core.min.js"></script>
        <script type="text/javascript" src="../dynamic/JavaScript/tabulator/modules/format.min.js"></script>
        <script type="text/javascript" src="../dynamic/JavaScript/tabulator/modules/ajax.min.js"></script>
        <script type="text/javascript" src="../dynamic/JavaScript/jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="../dynamic/JavaScript/tabulator/modules/group_rows.min.js"></script>
        <script type="text/javascript" src="../dynamic/JavaScript/tabulator/modules/sort.min.js"></script>
        <script type="text/javascript" src="../dynamic/JavaScript/tabulator/modules/responsive_layout.min.js"></script>
    <script type="text/javascript">
        //table setup for bills
        var table = new Tabulator("#bill-table", {
            ajaxURL:"/api/billdata", //Request URL
            ajaxConfig:"POST", //HTTP Request type
            height:500, // set height of table
            responsiveLayout:true, //auto changing sizes
            resizableColumns:false, //able to manually change size
            layout:"fitColumns", //fit columns to width of table
            groupBy:"parliament", //grouping the bills by parl
            groupToggleElement:"header", //toggle group on click anywhere in the group header
            groupHeader:function(data){return "Parliament: " + data.toString()}, //setting the header
            groupStartOpen:false, //Setting the groups to start closed
            columns:[ //Define Table Columns
                {title:"ID", field:"billid", sorter:"alphanum", width:45},
                {title:"Name", field:"billname", sorter:"string", tooltip:true, formatter:"textarea"},
                {title:"Slot", field:"billslot", sorter:"alphanum", width:10},
                {title:"Author", field:"author", sorter:"alphanum", formatter:"textarea"},
                {title:"Co-Sponsor", field:"sponsor", sorter:"string", formatter:"textarea"},
            ],
        });

        //setting the sort prefs
        table.setSort([
            {column:"billid", dir:"asc"},
            ])
    </script>

</body>
<footer class="site-footer">
    Created and Maintained by /u/thehowlinggreywolf <br>
    HTML, CSS, and JS are not my primary programming languages so please forgive the sites aesthetics
</footer>
</html>
